(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{9889:function(e,t,r){Promise.resolve().then(r.bind(r,6157))},6157:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Home}});var n=r(7437),o=r(2265);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var i=o.useLayoutEffect,useLatest=function(e){var t=o.useRef(e);return i(function(){t.current=e}),t},updateRef=function(e,t){if("function"==typeof e){e(t);return}e.current=t},use_composed_ref_esm=function(e,t){var r=(0,o.useRef)();return(0,o.useCallback)(function(n){e.current=n,r.current&&updateRef(r.current,null),r.current=t,t&&updateRef(t,n)},[t])},a={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},forceHiddenStyles$1=function(e){Object.keys(a).forEach(function(t){e.style.setProperty(t,a[t],"important")})},l=null,getHeight=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize};function calculateNodeHeight(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=1/0),l||((l=document.createElement("textarea")).setAttribute("tabindex","-1"),l.setAttribute("aria-hidden","true"),forceHiddenStyles$1(l)),null===l.parentNode&&document.body.appendChild(l);var o=e.paddingSize,i=e.borderSize,a=e.sizingStyle,s=a.boxSizing;Object.keys(a).forEach(function(e){l.style[e]=a[e]}),forceHiddenStyles$1(l),l.value=t;var d=getHeight(l,e);l.value=t,d=getHeight(l,e),l.value="x";var c=l.scrollHeight-o,u=c*r;"border-box"===s&&(u=u+o+i),d=Math.max(u,d);var f=c*n;return"border-box"===s&&(f=f+o+i),[d=Math.min(f,d),c]}var noop=function(){},s=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],d=!!document.documentElement.currentStyle,getSizingData$1=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r=s.reduce(function(e,r){return e[r]=t[r],e},{}),n=r.boxSizing;if(""===n)return null;d&&"border-box"===n&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:i}};function useListener(e,t,r){var n=useLatest(r);o.useLayoutEffect(function(){var handler=function(e){return n.current(e)};if(e)return e.addEventListener(t,handler),function(){return e.removeEventListener(t,handler)}},[])}var useWindowResizeListener=function(e){useListener(window,"resize",e)},useFontsLoadedListener=function(e){useListener(document.fonts,"loadingdone",e)},c=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],u=o.forwardRef(function(e,t){var r=e.cacheMeasurements,n=e.maxRows,i=e.minRows,a=e.onChange,l=void 0===a?noop:a,s=e.onHeightChange,d=void 0===s?noop:s,u=_objectWithoutPropertiesLoose(e,c),f=void 0!==u.value,h=o.useRef(null),p=use_composed_ref_esm(h,t),x=o.useRef(0),m=o.useRef(),resizeTextarea=function(){var e=h.current,t=r&&m.current?m.current:getSizingData$1(e);if(t){m.current=t;var o=calculateNodeHeight(t,e.value||e.placeholder||"x",i,n),a=o[0],l=o[1];x.current!==a&&(x.current=a,e.style.setProperty("height",a+"px","important"),d(a,{rowHeight:l}))}};return o.useLayoutEffect(resizeTextarea),useWindowResizeListener(resizeTextarea),useFontsLoadedListener(resizeTextarea),o.createElement("textarea",_extends({},u,{onChange:function(e){f||resizeTextarea(),l(e)},ref:p}))}),f=r(2668);let nanoid=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>((t&=63)<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");function Home(){let[e,t]=(0,o.useState)([]),onProcess=async e=>{if(!e){alert("No file selected");return}let r=await e.text(),n=r.split("-----");n&&t(n.map(e=>({id:nanoid(8),content:e})))};return(0,n.jsxs)("main",{className:"w-screen flex flex-col p-4",children:[(0,n.jsx)("div",{className:"absolute bottom-10 right-10",children:(0,n.jsx)(f.Z,{title:"导入",suffix:"",type:"button",onProcess:onProcess})}),(0,n.jsxs)("div",{className:"w-full flex flex-col overflow-y-auto",children:[(0,n.jsxs)("div",{className:"w-full flex flex-row",children:[(0,n.jsx)("div",{className:"w-1/3 mx-4",children:"原始医案"}),(0,n.jsx)("div",{className:"w-1/3 mx-4",children:"ChatGPT"}),(0,n.jsx)("div",{className:"w-1/3 mx-4",children:"审核修改"})]}),e.map(e=>(0,n.jsx)(ItemRender,{item:e},e.id))]})]})}let ItemRender=e=>{let{item:t}=e;return(0,n.jsxs)("div",{className:"w-full flex flex-row",children:[(0,n.jsx)("div",{className:"w-1/3 m-4 rounded-md bg-gray-200 p-2",style:{minHeight:"30vh"},children:t.content.trim()}),(0,n.jsx)("div",{className:"w-1/3 m-4 rounded-md bg-green-100 p-2",children:t.parsed?(0,n.jsx)("pre",{children:t.parsed}):(0,n.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:"loading"})}),(0,n.jsx)("div",{className:"w-1/3 m-4 border border-dashed border-gray-800 rounded-md p-2",children:t.reviewed?(0,n.jsx)("div",{children:t.reviewed}):(0,n.jsx)("div",{className:"w-full h-full flex",children:(0,n.jsx)(u,{placeholder:"请审核",className:"h-full flex-1 text-black bg-transparent items-center resize-none outline-none pr-8"})})})]})}},2668:function(e,t,r){"use strict";var n=r(7437),o=r(4860);t.Z=e=>{let{title:t,suffix:r,type:i,onProcess:a}=e,handleUpload=async e=>{var t;e.preventDefault();let r=null===(t=e.target.files)||void 0===t?void 0:t[0];await a(r),e.target.value=""};return"button"===i?(0,n.jsxs)("label",{htmlFor:"dropzone-file",className:"w-20 h-20 flex items-center justify-center text-2xl border rounded-full bg-blue-500 text-white cursor-pointer",children:[(0,n.jsx)("span",{className:"w-full h-full flex items-center justify-center",children:t}),(0,n.jsx)("input",{id:"dropzone-file",type:"file",className:"hidden",onChange:handleUpload})]}):(0,n.jsxs)("label",{htmlFor:"dropzone-file",className:"mx-auto cursor-pointer flex w-full max-w-lg flex-col items-center rounded-xl border-2 border-dashed border-blue-400 bg-white p-6 text-center",children:[(0,n.jsx)(o.Z,{name:"upload",size:32,color:"#057bff"}),(0,n.jsx)("h2",{className:"mt-4 text-xl font-medium text-gray-700 tracking-wide",children:t}),(0,n.jsxs)("p",{className:"mt-2 text-gray-500 tracking-wide",children:["Click and upload your ",r," file here."]}),(0,n.jsx)("input",{id:"dropzone-file",type:"file",accept:".".concat(r),className:"hidden",onChange:handleUpload})]})}},4860:function(e,t,r){"use strict";r.d(t,{Z:function(){return icon}});var n=r(7437);let o=(0,n.jsx)("path",{d:"M19.8 4.2a1 1 0 1 0-1.4-1.4L12 10.6 5.6 4.2a1 1 0 1 0-1.4 1.4L10.6 12l-6.4 6.4a1 1 0 1 0 1.4 1.4L12 13.4l6.4 6.4a1 1 0 1 0 1.4-1.4L13.4 12l6.4-6.4z"}),i=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),(0,n.jsx)("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]}),a=(0,n.jsx)("path",{d:"M14.7928932,11.5 L11.6464466,8.35355339 C11.4511845,8.15829124 11.4511845,7.84170876 11.6464466,7.64644661 C11.8417088,7.45118446 12.1582912,7.45118446 12.3535534,7.64644661 L16.3535534,11.6464466 C16.5488155,11.8417088 16.5488155,12.1582912 16.3535534,12.3535534 L12.3535534,16.3535534 C12.1582912,16.5488155 11.8417088,16.5488155 11.6464466,16.3535534 C11.4511845,16.1582912 11.4511845,15.8417088 11.6464466,15.6464466 L14.7928932,12.5 L4,12.5 C3.72385763,12.5 3.5,12.2761424 3.5,12 C3.5,11.7238576 3.72385763,11.5 4,11.5 L14.7928932,11.5 Z M16,4.5 C15.7238576,4.5 15.5,4.27614237 15.5,4 C15.5,3.72385763 15.7238576,3.5 16,3.5 L19,3.5 C20.3807119,3.5 21.5,4.61928813 21.5,6 L21.5,18 C21.5,19.3807119 20.3807119,20.5 19,20.5 L16,20.5 C15.7238576,20.5 15.5,20.2761424 15.5,20 C15.5,19.7238576 15.7238576,19.5 16,19.5 L19,19.5 C19.8284271,19.5 20.5,18.8284271 20.5,18 L20.5,6 C20.5,5.17157288 19.8284271,4.5 19,4.5 L16,4.5 Z",transform:"rotate(90 12.5 12)"}),l=(0,n.jsx)("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"}),s=(0,n.jsx)("path",{d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"});var d={close:{viewBox:"0 0 24 24",scale:.8,path:o,fill:!0,stroke:2},copy:{viewBox:"0 0 24 24",scale:.8,path:i,fill:!1,stroke:2},download:{viewBox:"0 0 24 24",scale:.9,path:a,fill:!0,stroke:.8},settings:{viewBox:"0 0 16 16",scale:.8,path:l,fill:!1,stroke:!0},upload:{viewBox:"0 0 24 24",scale:.9,path:s,fill:!1,stroke:2}},icon=e=>{let{name:t,size:r=20,color:o,onClick:i}=e,a=d[t]||{},l=a.scale||1;return(0,n.jsx)("div",{style:{color:o},onClick:i,children:(0,n.jsx)("svg",{width:r*l,height:r*l,strokeWidth:a.stroke&&0!==a.stroke?"".concat(a.stroke):"1.5",stroke:!1===a.stroke||0===a.stroke?"transparent":"currentColor",strokeLinecap:"round",strokeLinejoin:"round",fill:a.fill?"currentColor":"transparent",viewBox:a.viewBox||"0 0 32 32",children:a.path})})}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var n,i={},d=null,c=null;for(n in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,n)&&!s.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:d,ref:c,props:i,_owner:l.current}}t.Fragment=i,t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=9889)}),_N_E=e.O()}]);